# =============================================================================
# RAG APPLICATION CONFIGURATION
# =============================================================================
# Copy this file to .env and configure your settings
# For production, ensure all secrets are properly secured
# =============================================================================

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Application Metadata
APP_NAME=RAG Application
APP_VERSION=1.0.0
APP_DESCRIPTION=Document Q&A System with RAG Pipeline

# Environment Configuration
ENVIRONMENT=development  # development, staging, production
DEBUG=true               # Set to false in production
PORT=8000
HOST=0.0.0.0

# Security Configuration
SESSION_SECRET=your_super_secret_session_key_change_in_production_min_32_chars
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000", "https://yourdomain.com"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "yourdomain.com"]

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite (Default - for development)
DATABASE_URL=sqlite:///./rag.db

# PostgreSQL (Recommended for production)
# DATABASE_URL=postgresql://rag_user:rag_password@localhost:5432/rag_db
# POSTGRES_DB=rag_db
# POSTGRES_USER=rag_user
# POSTGRES_PASSWORD=rag_password

# MySQL (Alternative)
# DATABASE_URL=mysql://rag_user:rag_password@localhost:3306/rag_db

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Primary LLM Provider Selection
# Options: google, openai, anthropic, azure, huggingface
LLM_PROVIDER=google

# Fallback Providers (comma-separated, optional)
LLM_FALLBACK_PROVIDERS=openai,anthropic

# Provider Timeout Settings
LLM_TIMEOUT_SECONDS=30
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=1

# =============================================================================
# GOOGLE GEMINI CONFIGURATION
# =============================================================================

GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_MODEL=gemini-2.0-flash
GOOGLE_EMBEDDING_MODEL=models/embedding-001
GOOGLE_MAX_TOKENS=8192
GOOGLE_TEMPERATURE=0.1

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_ORG_ID=your_organization_id  # Optional
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.1

# =============================================================================
# ANTHROPIC CLAUDE CONFIGURATION
# =============================================================================

ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.1

# =============================================================================
# AZURE OPENAI CONFIGURATION
# =============================================================================

AZURE_OPENAI_API_KEY=your_azure_openai_api_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_DEPLOYMENT_NAME=your-gpt4-deployment
AZURE_EMBEDDING_DEPLOYMENT=your-embedding-deployment

# =============================================================================
# HUGGING FACE CONFIGURATION
# =============================================================================

HUGGINGFACE_API_KEY=your_huggingface_token
HUGGINGFACE_MODEL=microsoft/DialoGPT-large
HUGGINGFACE_ENDPOINT=https://api-inference.huggingface.co

# =============================================================================
# DOCUMENT PROCESSING CONFIGURATION
# =============================================================================

# File Upload Limits
MAX_FILES_PER_SESSION=20
MAX_FILE_SIZE_MB=10
MAX_PAGES_PER_FILE=1000
ALLOWED_FILE_TYPES=["pdf", "txt", "doc", "docx"]

# Text Processing
CHUNK_SIZE=2000
CHUNK_OVERLAP=200
CHUNK_STRATEGY=recursive  # recursive, semantic, fixed
MIN_CHUNK_SIZE=100
MAX_CHUNK_SIZE=4000

# Document Extraction
PDF_EXTRACT_IMAGES=false
PDF_EXTRACT_TABLES=true
DOCX_EXTRACT_HEADERS=true
DOCX_EXTRACT_FOOTERS=false

# =============================================================================
# VECTOR STORE CONFIGURATION
# =============================================================================

# Vector Store Type
VECTOR_STORE_TYPE=faiss  # faiss, pinecone, weaviate, chroma

# FAISS Configuration (Default)
FAISS_INDEX_TYPE=IndexFlatL2
FAISS_METRIC_TYPE=L2

# Vector Search Settings
VECTOR_DIMENSION=1536
SIMILARITY_THRESHOLD=0.7
MAX_RETRIEVAL_RESULTS=5
RETRIEVAL_STRATEGY=similarity  # similarity, mmr, similarity_score_threshold

# =============================================================================
# EXTERNAL VECTOR DATABASES
# =============================================================================

# Pinecone Configuration
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=rag-documents
PINECONE_NAMESPACE=default

# Weaviate Configuration
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_api_key
WEAVIATE_CLASS_NAME=Document

# ChromaDB Configuration
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_COLLECTION_NAME=rag_documents

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Caching Settings
ENABLE_CACHING=true
CACHE_TYPE=memory  # memory, redis, memcached
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# Redis Configuration (if using Redis cache)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# PERFORMANCE & RATE LIMITING
# =============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10
RATE_LIMIT_STORAGE=memory  # memory, redis

# Async Processing
MAX_CONCURRENT_UPLOADS=5
MAX_CONCURRENT_QUERIES=10
UPLOAD_TIMEOUT_SECONDS=300
QUERY_TIMEOUT_SECONDS=30

# Memory Management
MAX_MEMORY_USAGE_MB=2048
GARBAGE_COLLECTION_THRESHOLD=100

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=logs/app.log
LOG_ROTATION=daily
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=7

# Metrics & Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_INTERVAL=30

# Application Performance Monitoring (APM)
# SENTRY_DSN=your_sentry_dsn
# DATADOG_API_KEY=your_datadog_api_key
# NEW_RELIC_LICENSE_KEY=your_newrelic_license_key

# =============================================================================
# SEARCH & ELASTICSEARCH (Optional)
# =============================================================================

ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elasticsearch_password
ELASTICSEARCH_INDEX=rag_documents
ELASTICSEARCH_TIMEOUT=30

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Authentication (if implementing)
# JWT_SECRET_KEY=your_jwt_secret_key
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_HOURS=24

# API Security
API_KEY_HEADER=X-API-Key
# API_KEYS=["your_api_key_1", "your_api_key_2"]

# HTTPS Settings (for production)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# FORCE_HTTPS=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Settings
DEV_RELOAD=true
DEV_DEBUG_TOOLBAR=true
DEV_PROFILER=false

# Testing Configuration
TEST_DATABASE_URL=sqlite:///:memory:
TEST_DISABLE_AUTH=true
TEST_MOCK_LLM=true
TEST_TIMEOUT=60

# =============================================================================
# CLOUD DEPLOYMENT SETTINGS
# =============================================================================

# AWS Configuration
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-rag-bucket

# Google Cloud Configuration
# GOOGLE_CLOUD_PROJECT=your-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# GCS_BUCKET=your-rag-bucket

# Azure Configuration
# AZURE_STORAGE_ACCOUNT=your_storage_account
# AZURE_STORAGE_KEY=your_storage_key
# AZURE_CONTAINER=your-container

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_FILE_UPLOAD=true
ENABLE_DOCUMENT_DELETION=true
ENABLE_BULK_OPERATIONS=true
ENABLE_EXPORT_FUNCTIONALITY=true
ENABLE_ADMIN_PANEL=false
ENABLE_ANALYTICS=true

# Experimental Features
ENABLE_SEMANTIC_CHUNKING=false
ENABLE_MULTI_MODAL=false
ENABLE_REAL_TIME_UPDATES=false

# =============================================================================
# GRAFANA & MONITORING (Optional)
# =============================================================================

GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin_change_in_production
GRAFANA_SECRET_KEY=your_grafana_secret_key
